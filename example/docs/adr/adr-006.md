# ADR 006 - Répartition des microservices

## Statut
acceptée

## Contexte
Le système doit migrer d'une architecture monolithique vers une architecture en microservices. Il faut alors décider comment séparer le monolithe actuel en plusieurs microservices.

## Décision
Les microservices seront divisés de la manière suivante:
- Matching Engine: Effectue l'appariement des ordres, la validation des trades et stock les ordres du carnet.
- Portfolio service: Effectue toute la gestion des portfolios des utilisateurs (solde, positions, historique des transactions).
- Instrument service: Stock tous les instruments et l'historique des quotes.

## Conséquences
Il y a plusieurs avantages à séparer les microservices de cette manière. Premièrement, cette sépration offre une forte cohésion et un faible couplage, puisque chaque service est responsable de son propre domaine métier.

Par contre, cette sépration nécessite que certain microservices communiquent entre eux. Notemment, l'instrument service qui devra fournir des données pour pratiquement chaque autre service.